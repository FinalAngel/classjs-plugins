var Cl=window.Cl||{};!function(a){"use strict";Cl.Carousel=new Class({options:{index:null,timeout:null,autoplay:!1,easing:"linear",duration:300,move:"auto",momentum:!0,cls:{active:"active",disabled:"disabled",wrapper:".wrapper",viewport:".viewport",elements:".item",next:".trigger-next a",previous:".trigger-previous a",navigation:"nav a"}},initialize:function(b,c){this.container=a(b),this.options=a.extend(!0,{},this.options,c),this.wrapper=this.container.find(this.options.cls.wrapper),this.viewport=this.wrapper.find(this.options.cls.viewport),this.elements=this.viewport.find(this.options.cls.elements),this.navigation=this.container.find(this.options.cls.navigation),this.index=null,this.bound=this.elements.length,this.realBound=this._setBound(),this.timer=function(){},this.callbacks={},this.width=null,this.triggers={next:this.container.find(this.options.cls.next),previous:this.container.find(this.options.cls.previous)},this._setup()},_setup:function(){var b=this;return this.viewport.css("width",this.elements.length*this.elements.outerWidth(!0)),this.wrapper.css("height",this.viewport.height()),this.bound<Math.ceil(this.wrapper.outerWidth(!0)/this.elements.eq(0).outerWidth(!0))?(this.triggers.next.hide(),this.triggers.previous.hide(),!1):(this.triggers.next.on("click",function(a){a.preventDefault(),b.options.autoplay||(b.options.timeout=null),b.next()}),this.triggers.previous.on("click",function(a){a.preventDefault(),b.options.autoplay||(b.options.timeout=null),b.previous()}),this.navigation.on("click",function(c){c.preventDefault(),b.options.autoplay||(b.options.timeout=null),b.move(b.navigation.index(a(this)))}),this.navigation.show(),this.triggers.next.show(),this.triggers.previous.show(),this.move(this.options.index||0),void 0)},next:function(){this.move(this.index+1),this._fire("next")},previous:function(){this.move(this.index-1),this._fire("previous")},move:function(a){return a===this.index?!1:(this.index=this._setIndex(a),this.autoplay&&this.stop(),this.options.timeout>0&&this.play(),!this.options.momentum&&this.index>=this.realBound-1&&this.stop(),this.viewport.stop().animate({left:-(this.width*this.index)},this.options.duration,this.options.easing),this.triggers.next.removeClass(this.options.cls.disabled),this.triggers.previous.removeClass(this.options.cls.disabled),this.navigation.hide().filter(":lt("+this.realBound+")").show(),this.navigation.removeClass(this.options.cls.active),this.navigation.eq(this.index).addClass(this.options.cls.active),this.index<=0&&!this.options.momentum&&this.triggers.previous.addClass(this.options.cls.disabled),this.index>=this.realBound-1&&!this.options.momentum&&this.triggers.next.addClass(this.options.cls.disabled),this._accessibility(),this._fire("move"),void 0)},play:function(){var a=this;this.timer=setInterval(function(){a.next()},this.options.timeout),this.autoplay=!0,this._fire("play")},stop:function(){clearInterval(this.timer),this.autoplay=!1,this._fire("stop")},update:function(){this.move(this.index),this._fire("update")},destroy:function(){this.viewport.removeAttr("style"),this.wrapper.removeAttr("style"),this.triggers.next.removeAttr("style"),this.triggers.previous.removeAttr("style"),this.triggers.next.off("click"),this.triggers.previous.off("click"),this.navigation.off("click"),this.elements.removeAttr("aria-hidden").removeAttr("aria-selected"),this.stop(),this._fire("destroy")},_setIndex:function(a){var b=this.elements.eq(0).outerWidth(!0),c=Math.floor(this.wrapper.width()/b),d=this._setBound();return this.width=b,"auto"===this.options.move&&(this.width=b*c),0>a&&(a=this.options.momentum?d-1:0),a>=d&&(a=this.options.momentum?0:d-1),this.index=a},_setBound:function(){var a=this.elements.eq(0).outerWidth(!0),b=Math.floor(this.wrapper.width()/a);return this.realBound="auto"===this.options.move?Math.ceil(this.bound/b):this.bound,this.realBound},_accessibility:function(){var a=this,b=this.elements.eq(0).outerWidth(!0),c=Math.floor(this.wrapper.width()/b),d=null;this.elements.attr("aria-hidden",!0).attr("aria-selected",!1),this.elements.eq(this.index).attr("aria-selected",!0);for(var e=0;c>e;e++)d=a.index*c,"single"===a.options.move&&(d=a.index),this.elements.eq(d+e).attr("aria-hidden",!1)},_fire:function(a){return void 0===this.callbacks[a]?!1:(this.callbacks[a](this),void 0)}})}(jQuery);