/*!
 * @author      Angelo Dini - github.com/finalangel/classjs-plugins
 * @copyright	Distributed under the BSD License.
 * @version     1.1.2
 */// ensure namespace is defined
var Cl=window.Cl||{};(function(e){"use strict";Cl.Accordion=new Class({options:{index:null,expanded:!1,event:"click focusin",easing:"linear",duration:300,grouping:!0,forceClose:!1,disableAnchors:!0,autoHeight:!1,cls:{expanded:"expanded",collapsed:"collapsed",trigger:".trigger",container:".container",text:".text"},lang:{expanded:"Expanded ",collapsed:"Collapsed "}},initialize:function(t,n){this.container=e(t);this.options=e.extend(!0,{},this.options,n);this.triggers=this.container.find(this.options.cls.trigger);this.containers=this.container.find(this.options.cls.container);this.index=null;this.callbacks={};if(this.triggers.length!==this.containers.length)return!1;var r=this;jQuery(window).load(function(){r._setup()})},_setup:function(){var t=this;this.options.autoHeight&&this.containers.each(function(t,n){e(n).height(e(n).height())});this.triggers.on(this.options.event,function(e){e.preventDefault();t.toggle(t.triggers.index(this))});this.options.disableAnchors&&this.triggers.find("a",function(e){e.preventDefault()});this.options.expanded?this.show(undefined,!0):this.hide(undefined,!0);this.options.index!==null&&!this.options.expanded&&this.toggle(this.options.index)},toggle:function(e){this._fire("toggle");if(this.index===e&&!this.options.forceClose||this.index===undefined)return!1;this.index=e;this.containers.eq(e).is(":visible")?this.hide(e):this.show(e);this._fire("toggle",this)},show:function(e,t){this._fire("show");this._setExpanded(e,t);this._fire("show",this)},hide:function(e,t){this._fire("hide");this._setCollapsed(e,t);this._fire("hide",this)},_setExpanded:function(e,t){this.options.grouping&&!t&&this.hide();if(e===undefined){t||this.containers.slideDown(this.options.duration,this.options.easing);t&&this.containers.show();this.containers.attr("aria-hidden",!1);this.triggers.addClass(this.options.cls.expanded).removeClass(this.options.cls.collapsed).attr("aria-selected",!0).attr("aria-expanded",!0).find(".text").html(this.options.lang.expanded)}else{this.containers.eq(e).slideDown(this.options.duration,this.options.easing).attr("aria-hidden",!1);this.triggers.eq(e).addClass(this.options.cls.expanded).removeClass(this.options.cls.collapsed).attr("aria-selected",!0).attr("aria-expanded",!0).find(".text").html(this.options.lang.expanded)}},_setCollapsed:function(e,t){if(e===undefined){t||this.containers.slideUp(this.options.duration,this.options.easing);t&&this.containers.hide();this.containers.attr("aria-hidden",!0);this.triggers.addClass(this.options.cls.collapsed).removeClass(this.options.cls.expanded).attr("aria-selected",!1).attr("aria-expanded",!1).find(".text").html(this.options.lang.collapsed)}else{this.containers.eq(e).slideUp(this.options.duration,this.options.easing).attr("aria-hidden",!0);this.triggers.eq(e).addClass(this.options.cls.collapsed).removeClass(this.options.cls.expanded).attr("aria-selected",!1).attr("aria-expanded",!1).find(".text").html(this.options.lang.collapsed)}},_fire:function(t,n){if(n){if(this.callbacks[t]===undefined)return!1;this.callbacks[t](n)}else e.event.trigger("accordion-"+t)}})})(jQuery);