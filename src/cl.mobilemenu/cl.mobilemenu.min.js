var Cl=window.Cl||{};!function(a){"use strict";Cl.Mobilemenu=new Class({options:{easing:"swing",duration:300,bound:539,ratio:.7,offset:{left:0,top:0},cls:{menu:".mainnav",inner:"> ul",knob:".mainnav-knob"},overlay:'<div class="mainnav-overlay"></div>'},initialize:function(b){this.options=a.extend(!0,{},this.options,b),this.html=a("html"),this.body=a("body"),this.menu=a(this.options.cls.menu),this.knob=a(this.options.cls.knob),this.overlay=a(this.options.overlay),this.initialized=!1,this.visible=!1,this.timer=function(){},this.width=null,this.height=this.menu.outerHeight(!0),this.callbacks={},this._setup()},_setup:function(){var b=this;this.menu.attr("aria-expanded",!1),this.knob.on("click",function(a){a.preventDefault(),b.toggle()}),this.overlay.on("click",function(){b.hide()}),this.menu.on("focusin",function(){b.show()}),a(window).on("resize.menu",function(){b.visible&&a(window).width()>=b.options.bound&&b.hide(0),b.menu.height("min-height",b._setHeight())})},toggle:function(){this.visible?this.hide():this.show(),this.initialized||this.body.append(this.overlay),this.initialized=!0,this._fire("toggle")},show:function(b){return this._validate()?(this.menu.attr("aria-expanded",!0),this.visible||(this.width=a(window).width()*this.options.ratio),this.html.animate({"margin-left":this.width},void 0!==b?b:this.options.duration,this.options.easing).css("width",a(window).width()).css("overflow-x","hidden"),this.menu.css({width:this.width,"min-height":this._setHeight(),top:this.options.offset.top,left:-this.width+this.options.offset.left}),this.overlay.show(),this.visible=!0,this._fire("show"),void 0):!1},hide:function(a){var b=this;this.menu.attr("aria-expanded",!1),this.html.animate({"margin-left":0},void 0!==a?a:this.options.duration,this.options.easing,function(){b.menu.removeAttr("style"),b.html.removeAttr("style")}),this.overlay.hide(),this.visible=!1,this._fire("hide")},_validate:function(){return a(window).width()<this.options.bound?!0:!1},_setHeight:function(){var b=a(window).height()>this.body.height()?a(window).height():this.body.height();return this.height>b&&(b=this.height),b+1},_fire:function(a){return void 0===this.callbacks[a]?!1:(this.callbacks[a](this),void 0)}})}(jQuery);